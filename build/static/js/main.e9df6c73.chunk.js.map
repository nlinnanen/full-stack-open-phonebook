{"version":3,"sources":["components/personForm.js","components/numbers.js","components/filter.js","components/message.js","services.js","App.js","index.js"],"names":["PersonForm","handleNameChange","handleNumberChange","newName","newNumber","addNumber","class","onChange","value","type","onClick","RemoveButton","id","removeNumber","Numbers","persons","filter","className","p","name","toLowerCase","includes","map","classs","number","Filter","handleFilterChange","filterWith","Message","message","show","baseUrl","console","log","axios","get","then","response","data","newObject","post","delete","put","App","useState","setPersons","setNewName","setNewNumber","setFilterWith","setMessage","useEffect","services","showMessage","toShow","setTimeout","updateNumber","person","catch","error","event","target","preventDefault","personObject","every","concat","window","confirm","find","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.e9df6c73.chunk.js","sourcesContent":["\r\n\r\nconst PersonForm = ({handleNameChange, handleNumberChange, newName, newNumber, addNumber}) => {\r\n    return (      \r\n        <form class=\"person-form\">\r\n            <div class=\"name-input flex-space-between\">\r\n                Name: <input onChange={handleNameChange} value={newName}/>\r\n            </div>\r\n            <div class=\"number-input flex-space-between\">\r\n                Number: <input onChange={handleNumberChange} value={newNumber}/>\r\n            </div>\r\n            <div>\r\n                <button class=\"add-btn\" type=\"submit\" onClick={addNumber}>Add</button>\r\n            </div>\r\n        </form>\r\n    )\r\n}\r\n\r\nexport default PersonForm","\r\nconst Numbers = ({ persons, filter, removeNumber }) => {\r\n  return (\r\n    <div class=\"persons\">\r\n      <div className=\"flex-space-between persons-header\"><div class=\"name heading\">Name</div> <div class=\"number heading\">Number</div><div></div></div>\r\n      {persons\r\n        .filter(p => p.name.toLowerCase().includes(filter))\r\n          .map(p => {\r\n          return(\r\n            <div key={p.id} class=\"flex-space-between person\">\r\n              <div class=\"name\">{p.name}</div> <div classs=\"number\">{p.number} </div><RemoveButton id={p.id} removeNumber={removeNumber}/>\r\n            </div>\r\n          )\r\n          })}\r\n    </div>\r\n  )\r\n}\r\n\r\nconst RemoveButton = ({ id, removeNumber }) => <button onClick={() => removeNumber(id)}>delete</button>\r\n\r\nexport default Numbers","\r\nconst Filter = ({ handleFilterChange, filterWith }) => {\r\n   return( \r\n   <div class=\"filter flex-space-between\">\r\n        Filter shown with&nbsp; <input onChange={ handleFilterChange } value={filterWith}/>\r\n    </div>\r\n   )\r\n}\r\n\r\nexport default Filter","\r\nconst Message = ({ message }) => {\r\n    return(\r\n        <div class = \"message\" show={message ? 1 : 0}>\r\n            {message}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Message","import axios from 'axios'\r\n\r\nconst baseUrl = '/api/persons'\r\n\r\nconst getAll = () => {\r\n    console.log('Get', baseUrl)\r\n    return axios\r\n        .get(baseUrl)\r\n        .then(response => response.data)\r\n}\r\n\r\nconst create = newObject => {\r\n    return axios\r\n        .post(baseUrl, newObject)\r\n        .then(response => response.data)\r\n        \r\n}\r\n\r\nconst remove = id => {\r\n    return axios\r\n        .delete(`${baseUrl}/${id}`)\r\n}\r\n\r\nconst update = newObject => {\r\n    return axios\r\n            .put(`${baseUrl}/${newObject.id}`, newObject)\r\n            .then(response => response.data)\r\n} \r\n\r\nexport default { getAll, create, remove, update }","import React, { useEffect, useState } from 'react'\r\n\r\nimport PersonForm from './components/personForm'\r\nimport Numbers from './components/numbers'\r\nimport Filter from './components/filter'\r\nimport Message from './components/message'\r\n\r\nimport services from './services'\r\n\r\nconst App = () => {\r\n\r\n  const [persons, setPersons] = useState([])\r\n  const [newName, setNewName] = useState('')\r\n  const [newNumber, setNewNumber] = useState('')\r\n  const [filterWith, setFilterWith] = useState('')\r\n  const [message, setMessage] = useState(null)\r\n\r\n  useEffect(() => {\r\n    services\r\n      .getAll()\r\n      .then((response) => setPersons(response))\r\n  }, [])\r\n\r\n  const showMessage = (toShow) => {\r\n    setMessage(toShow)\r\n    setTimeout(() => setMessage(null), 3000)\r\n  }\r\n\r\n  const addNumber = (event) => {\r\n    event.preventDefault()\r\n\r\n    const personObject = {\r\n      name: newName,\r\n      number: newNumber\r\n    }\r\n\r\n    if (persons.every(p => p.name !== newName)) {\r\n      services\r\n        .create(personObject)\r\n        .then((response) => {\r\n          setPersons(persons.concat(response))\r\n          showMessage(`Added ${response.name}`)\r\n        })\r\n        .catch(error => {\r\n          console.log(error)\r\n          showMessage(error.response.data.error)\r\n        })\r\n    } else if (window.confirm(`${newName} is already added to phonebook, replace the old number with a new one?`)) {\r\n      updateNumber({ ...personObject, id: persons.find(p => p.name === newName).id })\r\n    }\r\n\r\n    setNewName('')\r\n    setNewNumber('')\r\n  }\r\n\r\n  const removeNumber = (id) => {\r\n    const name = persons.find(p => p.id === id).name\r\n    if (window.confirm(`Delete ${name}?`)) {\r\n      services\r\n        .remove(id)\r\n        .then(response => {\r\n          setPersons(persons.filter(person => person.id !== id))\r\n          showMessage(`Deleted ${name}`)\r\n        })\r\n        .catch(response => {\r\n          showMessage(`Information of ${name} has already been removed from server`)\r\n        })\r\n    }\r\n  }\r\n\r\n  const updateNumber = (newObject) => {\r\n    console.log(newObject)\r\n    services\r\n      .update(newObject)\r\n      .then(response => {\r\n        setPersons(persons.map(person => person.id !== response.id ? person : response))\r\n        showMessage(`Updated ${response.name}`)\r\n      })\r\n      .catch(error => {\r\n        console.log(error)\r\n        showMessage(error.response.data)\r\n      })\r\n      \r\n  }\r\n\r\n  const handleNameChange = (event) => {\r\n    setNewName(event.target.value)\r\n  }\r\n\r\n  const handleNumberChange = (event) => {\r\n    setNewNumber(event.target.value)\r\n  }\r\n\r\n  const handleFilterChange = (event) => {\r\n    setFilterWith(event.target.value.toLowerCase())\r\n  }\r\n\r\n  return (\r\n    <div>\r\n\r\n      <Message message={message} />\r\n      <div class=\"phonebook\">\r\n        <h2>Phonebook</h2>\r\n\r\n        <Filter handleFilterChange={handleFilterChange} filterWith={filterWith} />\r\n\r\n        <h2>Add a new number</h2>\r\n\r\n        <PersonForm handleNameChange={handleNameChange} handleNumberChange={handleNumberChange} newName={newName} newNumber={newNumber} addNumber={addNumber} />\r\n\r\n        <h2>Numbers</h2>\r\n\r\n        <Numbers persons={persons} filter={filterWith} removeNumber={removeNumber} />\r\n      </div>\r\n    </div>\r\n  )\r\n\r\n}\r\n\r\nexport default App\r\n","import ReactDOM from 'react-dom';\r\nimport App from './App';\r\nimport './App.css';\r\n\r\nReactDOM.render(\r\n  <App />,\r\n  document.getElementById('root')\r\n);\r\n\r\n"],"sourceRoot":""}